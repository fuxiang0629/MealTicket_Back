2021/5/26 15:51:38
自动买入交易出错
System.Data.SqlClient.SqlException (0x80131904): 形参 "@sharesCode" 未声明为 OUTPUT 参数，但传递进来的实参请求输出。
   在 System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   在 System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   在 System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   在 System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   在 System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   在 System.Data.SqlClient.SqlDataReader.get_MetaData()
   在 System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   在 System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)
   在 System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)
   在 System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)
   在 System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)
   在 System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   在 System.Data.Common.DbCommand.ExecuteReader(CommandBehavior behavior)
   在 System.Data.Entity.Infrastructure.Interception.DbCommandDispatcher.<>c.<Reader>b__6_0(DbCommand t, DbCommandInterceptionContext`1 c)
   在 System.Data.Entity.Infrastructure.Interception.InternalDispatcher`1.Dispatch[TTarget,TInterceptionContext,TResult](TTarget target, Func`3 operation, TInterceptionContext interceptionContext, Action`3 executing, Action`3 executed)
   在 System.Data.Entity.Infrastructure.Interception.DbCommandDispatcher.Reader(DbCommand command, DbCommandInterceptionContext interceptionContext)
   在 System.Data.Entity.Internal.InterceptableDbCommand.ExecuteDbDataReader(CommandBehavior behavior)
   在 System.Data.Common.DbCommand.ExecuteReader(CommandBehavior behavior)
   在 System.Data.Entity.Core.Objects.ObjectContext.ExecuteStoreQueryInternal[TElement](String commandText, String entitySetName, ExecutionOptions executionOptions, Object[] parameters)
   在 System.Data.Entity.Core.Objects.ObjectContext.<>c__DisplayClass186_0`1.<ExecuteStoreQueryReliably>b__1()
   在 System.Data.Entity.Core.Objects.ObjectContext.ExecuteInTransaction[T](Func`1 func, IDbExecutionStrategy executionStrategy, Boolean startLocalTransaction, Boolean releaseConnectionOnSuccess)
   在 System.Data.Entity.Core.Objects.ObjectContext.<>c__DisplayClass186_0`1.<ExecuteStoreQueryReliably>b__0()
   在 System.Data.Entity.SqlServer.DefaultSqlExecutionStrategy.Execute[TResult](Func`1 operation)
   在 System.Data.Entity.Core.Objects.ObjectContext.ExecuteStoreQueryReliably[TElement](String commandText, String entitySetName, ExecutionOptions executionOptions, Object[] parameters)
   在 System.Data.Entity.Core.Objects.ObjectContext.ExecuteStoreQuery[TElement](String commandText, ExecutionOptions executionOptions, Object[] parameters)
   在 System.Data.Entity.Internal.InternalContext.<>c__DisplayClass111_0`1.<ExecuteSqlQuery>b__0()
   在 System.Data.Entity.Internal.LazyEnumerator`1.MoveNext()
   在 System.Linq.Enumerable.FirstOrDefault[TSource](IEnumerable`1 source)
   在 MealTicket_Web_Handler.DataHelper.Analysis_CurrentPrice(String sharesCode, Int32 market, List`1 par) 位置 F:\项目\饭票后端\MealTicket_Web_Handler\DataHelper.cs:行号 1731
   在 MealTicket_Web_Handler.Runner.RunnerHelper.doAutoBuyTask(TradeAutoBuyCondition item) 位置 F:\项目\饭票后端\MealTicket_Web_Handler\Runner\RunnerHelper.cs:行号 669
   在 MealTicket_Web_Handler.Runner.RunnerHelper.<>c__DisplayClass4_0.<TradeAutoBuy>b__9() 位置 F:\项目\饭票后端\MealTicket_Web_Handler\Runner\RunnerHelper.cs:行号 475
   在 System.Threading.Tasks.Task.InnerInvoke()
   在 System.Threading.Tasks.Task.Execute()
ClientConnectionId:fde821a8-374d-4808-b1d7-fc41d43f5e58
Error Number:8162,State:2,Class:16

2021/5/26 15:58:27
队列链接断开重连


2021/5/26 15:58:28
队列链接断开重连


2021/5/26 15:59:07
购买失败
MealTicket_Web_Handler.Model.WebApiException: 证券板块持仓数量不能超过1支股票
   在 MealTicket_Web_Handler.Runner.RunnerHelper.doAutoBuyTask(TradeAutoBuyCondition item) 位置 F:\项目\饭票后端\MealTicket_Web_Handler\Runner\RunnerHelper.cs:行号 1498

2021/5/26 15:59:18
自动买入交易出错
MealTicket_Web_Handler.Model.WebApiException: 证券板块持仓数量不能超过1支股票
   在 MealTicket_Web_Handler.Runner.RunnerHelper.doAutoBuyTask(TradeAutoBuyCondition item) 位置 F:\项目\饭票后端\MealTicket_Web_Handler\Runner\RunnerHelper.cs:行号 1557
   在 MealTicket_Web_Handler.Runner.RunnerHelper.<>c__DisplayClass4_0.<TradeAutoBuy>b__9() 位置 F:\项目\饭票后端\MealTicket_Web_Handler\Runner\RunnerHelper.cs:行号 475
   在 System.Threading.Tasks.Task.InnerInvoke()
   在 System.Threading.Tasks.Task.Execute()

2021/5/26 15:59:18
MQ链接异常
System.TimeoutException: 操作已超时。
   在 RabbitMQ.Util.BlockingCell`1.WaitForValue(TimeSpan timeout)
   在 RabbitMQ.Client.Impl.SimpleBlockingRpcContinuation.GetReply(TimeSpan timeout)
   在 RabbitMQ.Client.Impl.ModelBase.ConnectionStartOk(IDictionary`2 clientProperties, String mechanism, Byte[] response, String locale)
   在 RabbitMQ.Client.Framing.Impl.Connection.StartAndTune()
   在 RabbitMQ.Client.Framing.Impl.Connection.Open(Boolean insist)
   在 RabbitMQ.Client.Framing.Impl.Connection..ctor(IConnectionFactory factory, Boolean insist, IFrameHandler frameHandler, String clientProvidedName)
   在 RabbitMQ.Client.Framing.Impl.AutorecoveringConnection.Init(IFrameHandler fh)
   在 RabbitMQ.Client.Framing.Impl.AutorecoveringConnection.Init(IEndpointResolver endpoints)
   在 RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)

2021/5/26 15:59:18
MQ链接异常
System.TimeoutException: 操作已超时。
   在 RabbitMQ.Util.BlockingCell`1.WaitForValue(TimeSpan timeout)
   在 RabbitMQ.Client.Impl.SimpleBlockingRpcContinuation.GetReply(TimeSpan timeout)
   在 RabbitMQ.Client.Impl.ModelBase.ConnectionStartOk(IDictionary`2 clientProperties, String mechanism, Byte[] response, String locale)
   在 RabbitMQ.Client.Framing.Impl.Connection.StartAndTune()
   在 RabbitMQ.Client.Framing.Impl.Connection.Open(Boolean insist)
   在 RabbitMQ.Client.Framing.Impl.Connection..ctor(IConnectionFactory factory, Boolean insist, IFrameHandler frameHandler, String clientProvidedName)
   在 RabbitMQ.Client.Framing.Impl.AutorecoveringConnection.Init(IFrameHandler fh)
   在 RabbitMQ.Client.Framing.Impl.AutorecoveringConnection.Init(IEndpointResolver endpoints)
   在 RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)

2021/5/26 15:59:18
队列链接断开重连


2021/5/26 15:59:19
队列链接断开重连


2021/5/26 15:59:22
队列链接断开重连


2021/5/26 15:59:23
队列链接断开重连


2021/5/26 15:59:23
队列链接断开重连


2021/5/26 15:59:25
队列链接断开重连


2021/5/26 15:59:25
队列链接断开重连


2021/5/26 15:59:26
队列链接断开重连


2021/5/26 16:10:19
队列链接断开重连


2021/5/26 16:11:29
MQ链接异常
System.TimeoutException: 操作已超时。
   在 RabbitMQ.Util.BlockingCell`1.WaitForValue(TimeSpan timeout)
   在 RabbitMQ.Client.Impl.SimpleBlockingRpcContinuation.GetReply(TimeSpan timeout)
   在 RabbitMQ.Client.Impl.ModelBase.ConnectionStartOk(IDictionary`2 clientProperties, String mechanism, Byte[] response, String locale)
   在 RabbitMQ.Client.Framing.Impl.Connection.StartAndTune()
   在 RabbitMQ.Client.Framing.Impl.Connection.Open(Boolean insist)
   在 RabbitMQ.Client.Framing.Impl.Connection..ctor(IConnectionFactory factory, Boolean insist, IFrameHandler frameHandler, String clientProvidedName)
   在 RabbitMQ.Client.Framing.Impl.AutorecoveringConnection.Init(IFrameHandler fh)
   在 RabbitMQ.Client.Framing.Impl.AutorecoveringConnection.Init(IEndpointResolver endpoints)
   在 RabbitMQ.Client.ConnectionFactory.CreateConnection(IEndpointResolver endpointResolver, String clientProvidedName)

2021/5/26 16:11:29
队列链接断开重连


2021/5/26 16:11:49
队列链接断开重连


2021/5/26 16:11:50
队列链接断开重连


2021/5/26 16:45:16
队列链接断开重连


2021/5/26 16:46:39
MQ链接异常
System.TimeoutException: 操作已超时。
   在 RabbitMQ.Util.BlockingCell`1.WaitForValue(TimeSpan timeout)
   在 RabbitMQ.Client.Impl.SimpleBlockingRpcContinuation.GetReply(TimeSpan timeout)
   在 RabbitMQ.Client.Impl.ModelBase.ModelRpc(MethodBase method, ContentHeaderBase header, Byte[] body)
   在 RabbitMQ.Client.Framing.Impl.Model._Private_ChannelOpen(String outOfBand)
   在 RabbitMQ.Client.Framing.Impl.AutorecoveringConnection.CreateNonRecoveringModel()
   在 RabbitMQ.Client.Framing.Impl.AutorecoveringConnection.CreateModel()
   在 MealTicket_Web_Handler.MQHandler.Reconnect() 位置 F:\项目\饭票后端\MealTicket_Web_Handler\MQHandler.cs:行号 93

2021/5/26 16:46:39
队列链接断开重连


2021/5/26 16:46:41
队列链接断开重连


2021/5/26 16:46:41
队列链接断开重连


2021/5/26 16:46:42
队列链接断开重连


2021/5/26 16:46:44
队列链接断开重连


2021/5/26 16:46:46
队列链接断开重连


2021/5/26 16:46:47
队列链接断开重连


2021/5/26 16:46:49
队列链接断开重连


2021/5/26 16:46:50
队列链接断开重连


2021/5/26 17:55:48
队列链接断开重连


2021/5/26 17:56:03
队列链接断开重连


2021/5/26 17:56:04
队列链接断开重连


2021/5/26 17:56:09
队列链接断开重连


2021/5/26 17:56:21
队列链接断开重连


2021/5/26 17:56:21
队列链接断开重连


2021/5/26 17:56:31
队列链接断开重连


2021/5/26 17:56:31
队列链接断开重连


2021/5/26 17:56:40
队列链接断开重连


2021/5/26 17:56:45
队列链接断开重连


